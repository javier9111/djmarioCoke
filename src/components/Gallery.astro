---
const images = [
  "/galeria/gallery-1.jpg",
  "/galeria/gallery-2.jpg",
  "/galeria/gallery-3.jpg",
  "/galeria/gallery-4.jpg",
  "/galeria/gallery-5.jpg",
  "/galeria/gallery-6.jpg",
];
---

<section id="galeria">
  <div class="carousel w-full relative overflow-hidden">
    <div class="carousel-inner flex transition-transform duration-500 ease-in-out">
      {images.map((image, index) => (
        <div class="carousel-item w-full flex-shrink-0">
          <img src={`${import.meta.env.BASE_URL}${image}`} class="w-full" alt={`Gallery image ${index + 1}`} />
        </div>
      ))}
    </div>

    <!-- Navigation -->
    <div class="absolute left-5 right-5 top-1/2 flex -translate-y-1/2 transform justify-between">
      <button class="btn btn-circle" id="prev-btn">❮</button>
      <button class="btn btn-circle" id="next-btn">❯</button>
    </div>
  </div>
</section>

<script>
  const carouselInner = document.querySelector('.carousel-inner');
  const prevBtn = document.getElementById('prev-btn');
  const nextBtn = document.getElementById('next-btn');
  const totalSlides = document.querySelectorAll('.carousel-item').length;

  if (carouselInner && prevBtn && nextBtn && totalSlides > 0) {
    let currentIndex = 0;

    const updateCarousel = () => {
      carouselInner.style.transform = `translateX(-${currentIndex * 100}%)`;
    };

    prevBtn.addEventListener('click', () => {
      currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
      updateCarousel();
    });

    nextBtn.addEventListener('click', () => {
      currentIndex = (currentIndex + 1) % totalSlides;
      updateCarousel();
    });
  }
</script>